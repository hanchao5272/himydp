# 设计模式的系统性学习实例

## 1-strategy：策略模式

### 1.1.初始方式

- 定义抽象类Duck，将相同部分quack和swim定义成普通方法，将不同部分display定义成抽象方法。
- 具体的鸭子继承Duck，并实现display方法

### 1.2.出现新的需求：飞行

- 在Duck中定义普通方法fly
- 问题解决

### 1.3.出现新的需求：橡皮鸭、诱饵鸭

- RubberDuck继承Duck，出现问题，橡皮鸭居然在飞行！
- DecoyDuck继承Duck，出现问题，诱饵鸭居然会飞、会叫。。。

尝试解决：重写方法，虽然能够解决问题，但是会导致：

- 代码在多个子类中重复，如重写方法
- 改变父类会“牵一发而动全身”，可能会重写很多方法
- 难以得知鸭子的所有行为，如难以得知所有鸭子的飞行方式

### 1.4.尝试用接口来实现
将所有行为如飞行、叫等都抽象成接口如何？可以，但会有以下问题：

- 每个子类都需要注意应该实现哪个接口
- 代码在多个子类中重复
- 因为使用多实现接口，每个子类的父类方法有限，无法有效的使用多态的特性
- 难以得知鸭子的所有行为，如难以得知所有鸭子的飞行方式